{"version":3,"sources":["components/mynavbar.component.js","components/poster.component.js","components/inputfield.component.js","components/movielist.component.js","App.js","index.js"],"names":["Mynavbar","Navbar","bg","variant","Container","Brand","href","Nav","className","Link","Component","Poster","props","useState","src","setSrc","useEffect","style","display","width","alt","Inputfield","textInput","setTextInput","textAlign","onChange","e","target","value","onKeyDown","key","console","log","addMovie","herokuURL","Movies","handleKeyDown","editMovie","state","id","name","movies","handleChange","bind","this","setState","onClick","deleteMovie","React","Movielist","getMovies","axios","get","then","response","i","data","getImage","catch","error","movie","res","stateCopy","Object","assign","result","results","poster","poster_path","attach","find","overview","release","release_date","put","post","delete","map","movieList","posterList","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ec54e85.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\n\nexport default class Mynavbar extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Container>\n            <Navbar.Brand href=\"/\">Movies</Navbar.Brand>\n            <Nav className=\"me-auto\">\n              <Nav.Link href=\"/\">Home</Nav.Link>\n            </Nav>\n          </Container>\n        </Navbar>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nconst Poster = (props) => {\n  let [src, setSrc] = useState('');\n  useEffect(()=>{\n    function myfunction (){\n    if(props.props == null){\n      return\n    } else {\n      setSrc(props.props.src)\n    }\n    }\n    myfunction()\n  })\n  return (\n    <div style={{display:'inline'}} >\n      <img\n      src={src}\n      width='250'\n      alt=''\n      />\n    </div>\n  );\n};\n\nexport default Poster;","import React, { useState } from \"react\";\n\nconst Inputfield = (props) => {\n    const [textInput, setTextInput] = useState('')\n    const handleChange = (e) =>{\n        setTextInput(e.target.value)\n    }\n    const handleKeyDown = (e) =>{\n        setTextInput(e.target.value)\n        if(e.key===\"Enter\"){\n            console.log('enter pressed')\n            props.addMovie(textInput)\n            setTextInput('')\n        }\n    }\n    return(\n        <div style={{textAlign: 'center'}}>\n        <input\n        onChange= {handleChange}\n        onKeyDown={handleKeyDown}\n        value={textInput}\n        />\n        </div>\n    )\n};\n\nexport default Inputfield;","import React, { Component } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Container } from \"react-bootstrap\";\nimport Poster from \"./poster.component\";\nimport Inputfield from \"./inputfield.component\";\n\nlet apiKey = \"7aa9ec6612579e4bfd39288619de239c\";\nlet herokuURL = 'https://andrew-movie-app.herokuapp.com/'\n\nclass Movies extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      name: props.movies.name,\n      id: props.movies.id,\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(e) {\n    this.setState({ name: e.target.value });\n  }\n  handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      console.log(\"enter pressed\");\n      this.props.editMovie(this.state.id, this.state.name);\n    }\n  }\n  render() {\n    return (\n      <div className=\"mx-auto text-center\" style={{ width: \"100%\" }}>\n        <input\n          className=\"text-center movieListInput\"\n          onChange={this.handleChange}\n          value={this.state.name}\n          onKeyDown={this.handleKeyDown}\n        ></input>\n        <button onClick={()=>{this.props.deleteMovie(this.state.id)}}>x</button>\n      </div>\n    );\n  }\n}\n\nclass Movielist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n    };\n\n    this.editMovie = this.editMovie.bind(this);\n    this.getMovies = this.getMovies.bind(this);\n    this.addMovie = this.addMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies() {\n    axios\n      .get(\"https://andrew-movie-app.herokuapp.com/\")\n      .then((response) => {\n        // console.log(response.data)\n        this.setState({ movies: response.data });\n        for (let i in response.data) {\n          this.getImage(response.data[i].name);\n        }\n        // console.log(this.state);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getImage(movie) {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${movie}`\n      )\n      .then((res) => {\n        // console.log(res.data.results);\n        let stateCopy = Object.assign({}, this.state);\n        // console.log(stateCopy)\n        let result = res.data.results[0];\n        let poster = `https://image.tmdb.org/t/p/original/${result.poster_path}`;\n        let attach = stateCopy.movies.find((e) => e.name === movie);\n        // console.log(attach)\n        attach.src = poster;\n        attach.overview = res.data.results[0].overview;\n        attach.release = res.data.results[0].release_date;\n        // console.log(attach, stateCopy)\n        this.setState(stateCopy);\n        // console.log(this.state)\n      });\n  }\n\n  editMovie(id, name) {\n    axios\n      .put(herokuURL, {\n        id,\n        name,\n      })\n      .then((res) => {\n        console.log(res.data);\n        console.log(this.state);\n        this.getMovies();\n      });\n  }\n\n  addMovie(name) {\n    axios\n      .post(herokuURL, {\n        movie: name,\n      })\n      .then((res) => {\n        console.log(res);\n        this.getMovies();\n        console.log(this.state.movies)\n      });\n  }\n\n  deleteMovie(id){\n    console.log('deleting')\n    axios.delete(herokuURL,{\n      data:{\n        id\n      }\n    })\n    .then((res)=>{\n      console.log(res.data)\n      this.getMovies()\n    })\n  }\n\n  movieList() {\n    // console.log(this.state)\n    return this.state.movies.map((e, i) => {\n      return <Movies \n      key={i} \n      movies={e} \n      editMovie={this.editMovie}\n      deleteMovie={this.deleteMovie} />;\n    });\n  }\n\n  posterList() {\n    return this.state.movies.map((e, i) => {\n      return <Poster key={i} props={e} />;\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Container className=\"mycontainer border my-3\">\n          <h1 className=\"text-center fs-2\">My movie list</h1>\n          <div className=\"\">\n            <div>{this.movieList()}</div>\n          </div>\n          <div>\n            <div id=\"posters\" className=\"my-3\" style={{ textAlign: \"center\" }}>\n              {this.posterList()}\n            </div>\n          </div>\n          <Inputfield addMovie={this.addMovie}/>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Movielist","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport './index.css'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n// import { Helmet } from 'react-helmet'\n\nimport Mynavbar from \"./components/mynavbar.component\";\nimport Movielist from \"./components/movielist.component\";\n\n\nfunction App() {\n  return (\n    <Router>\n      <Mynavbar />\n      {/* <Route path='/' exact component={Movielist} /> we need this later*/}\n      <Movielist />\n    </Router>\n  )\n\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM  from 'react-dom'\nimport App from './App'\n\n//We render App into ReactDOM here\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}