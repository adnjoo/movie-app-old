{"version":3,"sources":["components/mynavbar.component.js","components/poster.component.js","components/inputfield.component.js","components/movie.component.js","components/movielist.component.js","App.js","index.js"],"names":["Mynavbar","Navbar","bg","variant","Container","Brand","href","process","Nav","className","Link","Component","Poster","props","useState","src","setSrc","useEffect","style","display","width","alt","Inputfield","textInput","setTextInput","textAlign","onChange","e","target","value","onKeyDown","key","console","log","addMovie","Movie","name","setName","movies","id","setId","useCaretPosition","inputRef","ref","updateCaret","editName","editMovie","onClick","deleteMovie","herokuURL","Movielist","state","bind","getMovies","activateLasers","this","axios","get","then","response","i","setState","data","getImage","movie","res","stateCopy","Object","assign","results","length","attach","find","result","poster","poster_path","overview","release","release_date","newname","movieEdit","put","post","delete","map","movieList","posterList","App","basename","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b616159b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\n\nexport default class Mynavbar extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Container>\n            <Navbar.Brand href={process.env.PUBLIC_URL+'/'}>Movies</Navbar.Brand>\n            <Nav className=\"me-auto\">\n              <Nav.Link href={process.env.PUBLIC_URL+'/'}>Home</Nav.Link>\n            </Nav>\n          </Container>\n        </Navbar>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nconst Poster = (props) => {\n  let [src, setSrc] = useState(\"\");\n  useEffect(() => {\n    function myfunction() {\n      if (props.props == null) {\n        return;\n      } else {\n        setSrc(props.props.src);\n      }\n    }\n    myfunction();\n  });\n  return (\n    <div style={{ display: \"inline\" }}>\n      <img src={src} width=\"250\" alt=\"\" />\n    </div>\n  );\n};\n\nexport default Poster;\n","import React, { useState } from \"react\";\n\nconst Inputfield = (props) => {\n  const [textInput, setTextInput] = useState(\"\");\n  const handleChange = (e) => {\n    setTextInput(e.target.value);\n  };\n  const handleKeyDown = (e) => {\n    setTextInput(e.target.value);\n    if (e.key === \"Enter\") {\n      console.log(\"enter pressed\");\n      props.addMovie(textInput);\n      setTextInput(\"\");\n    }\n  };\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <input\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        value={textInput}\n      />\n    </div>\n  );\n};\n\nexport default Inputfield;\n","import React, { useState, useEffect } from \"react\";\nimport { useCaretPosition } from 'react-use-caret-position';\n\nconst Movie = (props) => {\n  const [name, setName] = useState(\"\");\n  const [id, setId] = useState(props.movies.id);\n  \n  const {ref:inputRef, updateCaret} = useCaretPosition();\n\n  useEffect(() => {\n    function test() {\n      if (props.movies.name == null) {\n        return;\n      } else {\n        setName(props.movies.name);\n        setId(props.movies.id);\n      }\n    }\n    test();\n  });\n\n  const handleChange = (e) => {\n    // setName(e.target.value); go up to parent\n    props.editName(name, e.target.value, id);\n    updateCaret();\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      console.log(\"enter pressed\");\n      props.editMovie(id, name);\n    }\n  };\n  return (\n    <div className=\"mx-auto text-center\" style={{ width: \"100%\" }}>\n      <input\n        ref={inputRef} \n        className=\"text-center movieListInput\"\n        onChange={handleChange}\n        value={name}\n        onKeyDown={handleKeyDown}\n      ></input>\n      <button\n        onClick={() => {\n          // console.log('id is', id)\n          props.deleteMovie(id);\n        }}\n      >\n        x\n      </button>\n    </div>\n  );\n};\n\nexport default Movie;\n","import React, { Component, useState, useEffect } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Container } from \"react-bootstrap\";\nimport Poster from \"./poster.component\";\nimport Inputfield from \"./inputfield.component\";\nimport Movie from \"./movie.component\";\n\nlet apiKey = \"7aa9ec6612579e4bfd39288619de239c\";\nlet herokuURL = \"https://andrew-movie-app.herokuapp.com/\";\n\nclass Movielist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n    };\n\n    this.editMovie = this.editMovie.bind(this);\n    this.getMovies = this.getMovies.bind(this);\n    this.addMovie = this.addMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n    this.editName = this.editName.bind(this);\n    this.activateLasers = this.activateLasers.bind(this);\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies() {\n    axios.get(\"https://andrew-movie-app.herokuapp.com/\").then((response) => {\n      this.setState({ movies: response.data });\n      for (let i in response.data) {\n        this.getImage(response.data[i].name);\n      }\n    });\n  }\n\n  getImage(movie) {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${movie}`\n      )\n      .then((res) => {\n        console.log(res)\n        let stateCopy = Object.assign({}, this.state);\n        //if unable to find the movie we will return the no poster image\n        if(res.data.results.length==0){\n          let attach = stateCopy.movies.find((e) => e.name === movie);\n          console.log('attach is',attach)\n          attach.src= 'https://raw.githubusercontent.com/adnjoo/movie-app/main/assets/no-poster.jpeg'\n          return\n        }\n        let result = res.data.results[0];\n        let poster = `https://image.tmdb.org/t/p/original/${result.poster_path}`;\n        let attach = stateCopy.movies.find((e) => e.name === movie);\n        console.log(attach)\n        attach.src = poster;\n        attach.overview = res.data.results[0].overview;\n        attach.release = res.data.results[0].release_date;\n        console.log(attach, stateCopy)\n        this.setState(stateCopy);\n      });\n  }\n\n  editName(name, newname, id) {\n    // edit state but dont get movies with axios\n    let stateCopy = Object.assign({}, this.state);\n    // console.log(name, id, this.state, stateCopy)\n    let movieEdit = stateCopy.movies.find((e) => e.name === name);\n    console.log(movieEdit);\n    movieEdit.name = newname;\n    this.setState(stateCopy);\n  }\n\n  editMovie(id, name) {\n    axios\n      .put(herokuURL, {\n        id,\n        name,\n      })\n      .then((res) => {\n        console.log(res.data);\n        console.log(this.state);\n        this.getMovies();\n      });\n  }\n\n  addMovie(name) {\n    axios\n      .post(herokuURL, {\n        movie: name,\n      })\n      .then((res) => {\n        // console.log(res);\n        this.getMovies();\n        console.log(this.state.movies);\n      });\n  }\n\n  deleteMovie(id) {\n    console.log(\"deleting\");\n    axios\n      .delete(herokuURL, {\n        data: {\n          id,\n        },\n      })\n      .then((res) => {\n        // console.log(res.data);\n        this.getMovies();\n        // console.log(this.state)\n      });\n  }\n\n  movieList() {\n    // console.log(this.state)\n    return this.state.movies.map((e, i) => {\n      return (\n        <Movie\n          key={i}\n          movies={e}\n          editMovie={this.editMovie}\n          deleteMovie={this.deleteMovie}\n          editName={this.editName}\n        />\n      );\n    });\n  }\n\n  posterList() {\n    return this.state.movies.map((e, i) => {\n      return <Poster key={i} props={e} />;\n    });\n  }\n  activateLasers(){\n    console.log(this.state)\n  }\n\n  render() {\n    return (\n      <div>\n        <Container className=\"mycontainer border my-3\">\n          <h1 className=\"text-center fs-2\">My movie list</h1>\n          <div className=\"\">\n            <div>{this.movieList()}</div>\n          </div>\n          <div>\n            <div id=\"posters\" className=\"my-3\" style={{ textAlign: \"center\" }}>\n              {this.posterList()}\n            </div>\n          </div>\n          <Inputfield addMovie={this.addMovie} />\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Movielist;\n","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport { HashRouter} from \"react-router-dom\";\n// import { Helmet } from 'react-helmet'\n\nimport Mynavbar from \"./components/mynavbar.component\";\nimport Movielist from \"./components/movielist.component\";\n\nfunction App() {\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Mynavbar />\n      {/* <Route path='/' exact component={Movielist} /> we need this later*/}\n      <Movielist />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM  from 'react-dom'\nimport App from './App'\n\n//We render App into ReactDOM here\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}