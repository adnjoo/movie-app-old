{"version":3,"sources":["components/mynavbar.component.js","components/poster.component.js","components/inputfield.component.js","components/movie.component.js","components/movielist.component.js","App.js","index.js"],"names":["Mynavbar","Navbar","bg","variant","Container","Brand","href","Nav","className","Link","Component","Poster","props","useState","src","setSrc","useEffect","style","display","width","alt","Inputfield","textInput","setTextInput","textAlign","onChange","e","target","value","onKeyDown","key","console","log","addMovie","Movie","name","setName","movies","id","setId","editName","editMovie","onClick","deleteMovie","herokuURL","Movielist","state","bind","getMovies","this","axios","get","then","response","i","setState","data","getImage","movie","res","stateCopy","Object","assign","result","results","poster","poster_path","attach","find","overview","release","release_date","newname","movieEdit","put","post","delete","map","movieList","posterList","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.565c5dbe.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\n\nexport default class Mynavbar extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar bg=\"primary\" variant=\"dark\">\n          <Container>\n            <Navbar.Brand href=\"/\">Movies</Navbar.Brand>\n            <Nav className=\"me-auto\">\n              <Nav.Link href=\"/\">Home</Nav.Link>\n            </Nav>\n          </Container>\n        </Navbar>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\n\nconst Poster = (props) => {\n  let [src, setSrc] = useState('');\n  useEffect(()=>{\n    function myfunction (){\n    if(props.props == null){\n      return\n    } else {\n      setSrc(props.props.src)\n    }\n    }\n    myfunction()\n  })\n  return (\n    <div style={{display:'inline'}} >\n      <img\n      src={src}\n      width='250'\n      alt=''\n      />\n    </div>\n  );\n};\n\nexport default Poster;","import React, { useState } from \"react\";\n\nconst Inputfield = (props) => {\n    const [textInput, setTextInput] = useState('')\n    const handleChange = (e) =>{\n        setTextInput(e.target.value)\n    }\n    const handleKeyDown = (e) =>{\n        setTextInput(e.target.value)\n        if(e.key===\"Enter\"){\n            console.log('enter pressed')\n            props.addMovie(textInput)\n            setTextInput('')\n        }\n    }\n    return(\n        <div style={{textAlign: 'center'}}>\n        <input\n        onChange= {handleChange}\n        onKeyDown={handleKeyDown}\n        value={textInput}\n        />\n        </div>\n    )\n};\n\nexport default Inputfield;","import React, { useState, useEffect } from \"react\";\n\nconst Movie = (props) => {\n    const [name, setName] = useState('');\n    const [id, setId] = useState(props.movies.id);\n  \n    useEffect(() => {\n      function test() {\n        if(props.movies.name == null){\n          return\n        } else {\n          setName(props.movies.name)\n          setId(props.movies.id)\n        }\n      }\n      test();\n    });\n  \n    const handleChange = (e) => {\n      // setName(e.target.value); go up to parent\n      props.editName(name,e.target.value, id)\n    };\n  \n    const handleKeyDown = (e) => {\n      if (e.key === \"Enter\") {\n        console.log(\"enter pressed\");\n        props.editMovie(id, name);\n      }\n    };\n    return (\n      <div className=\"mx-auto text-center\" style={{ width: \"100%\" }}>\n        <input\n          className=\"text-center movieListInput\"\n          onChange={handleChange}\n          value={name}\n          onKeyDown={handleKeyDown}\n        ></input>\n        <button\n          onClick={() => {\n            // console.log('id is', id)\n            props.deleteMovie(id);\n          }}\n        >\n          x\n        </button>\n      </div>\n    );\n};\n\nexport default Movie;","import React, { Component, useState, useEffect } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Container } from \"react-bootstrap\";\nimport Poster from \"./poster.component\";\nimport Inputfield from \"./inputfield.component\";\nimport Movie from \"./movie.component\"\n\nlet apiKey = \"7aa9ec6612579e4bfd39288619de239c\";\nlet herokuURL = \"https://andrew-movie-app.herokuapp.com/\";\n\nclass Movielist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n    };\n\n    this.editMovie = this.editMovie.bind(this);\n    this.getMovies = this.getMovies.bind(this);\n    this.addMovie = this.addMovie.bind(this);\n    this.deleteMovie = this.deleteMovie.bind(this);\n    this.editName = this.editName.bind(this);\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies() {\n    axios.get(\"https://andrew-movie-app.herokuapp.com/\").then((response) => {\n      this.setState({ movies: response.data });\n      for (let i in response.data) {\n        this.getImage(response.data[i].name);\n      }\n    });\n  }\n\n  getImage(movie) {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${movie}`\n      )\n      .then((res) => {\n        let stateCopy = Object.assign({}, this.state);\n        let result = res.data.results[0];\n        let poster = `https://image.tmdb.org/t/p/original/${result.poster_path}`;\n        let attach = stateCopy.movies.find((e) => e.name === movie);\n        // console.log(attach)\n        attach.src = poster;\n        attach.overview = res.data.results[0].overview;\n        attach.release = res.data.results[0].release_date;\n        // console.log(attach, stateCopy)\n        this.setState(stateCopy);\n      });\n  }\n\n  editName(name, newname, id){\n    // edit state but dont get movies with axios\n    let stateCopy = Object.assign({}, this.state);\n    // console.log(name, id, this.state, stateCopy)\n    let movieEdit = stateCopy.movies.find((e)=>e.name === name)\n    console.log(movieEdit)\n    movieEdit.name = newname\n    this.setState(stateCopy)\n  }\n\n  editMovie(id, name) {\n    axios\n      .put(herokuURL, {\n        id,\n        name,\n      })\n      .then((res) => {\n        console.log(res.data);\n        console.log(this.state);\n        this.getMovies();\n      });\n  }\n\n  addMovie(name) {\n    axios\n      .post(herokuURL, {\n        movie: name,\n      })\n      .then((res) => {\n        // console.log(res);\n        this.getMovies();\n        console.log(this.state.movies);\n      });\n  }\n\n  deleteMovie(id) {\n    console.log(\"deleting\");\n    axios\n      .delete(herokuURL, {\n        data: {\n          id,\n        },\n      })\n      .then((res) => {\n        // console.log(res.data);\n        this.getMovies();\n        // console.log(this.state)\n      });\n  }\n\n  movieList() {\n    // console.log(this.state)\n    return this.state.movies.map((e, i) => {\n      return (\n        <Movie\n          key={i}\n          movies={e}\n          editMovie={this.editMovie}\n          deleteMovie={this.deleteMovie}\n          editName={this.editName}\n        />\n      );\n    });\n  }\n\n  posterList() {\n    return this.state.movies.map((e, i) => {\n      return <Poster key={i} props={e} />;\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Container className=\"mycontainer border my-3\">\n          <h1 className=\"text-center fs-2\">My movie list</h1>\n          <div className=\"\">\n            <div>{this.movieList()}</div>\n          </div>\n          <div>\n            <div id=\"posters\" className=\"my-3\" style={{ textAlign: \"center\" }}>\n              {this.posterList()}\n            </div>\n          </div>\n          <Inputfield addMovie={this.addMovie} />\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Movielist;\n","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport './index.css'\nimport { BrowserRouter as Router } from \"react-router-dom\";\n// import { Helmet } from 'react-helmet'\n\nimport Mynavbar from \"./components/mynavbar.component\";\nimport Movielist from \"./components/movielist.component\";\n\n\nfunction App() {\n  return (\n    <Router>\n      <Mynavbar />\n      {/* <Route path='/' exact component={Movielist} /> we need this later*/}\n      <Movielist />\n    </Router>\n  )\n\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM  from 'react-dom'\nimport App from './App'\n\n//We render App into ReactDOM here\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}